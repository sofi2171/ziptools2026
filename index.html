<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ZIPTools2026 - Professional Free Online ZIP File Management Tools at ziptools2026.netlify.app. Extract ZIP, RAR, 7Z files instantly. Compress files to ZIP archives. Convert between archive formats. Password protect ZIP files with AES-256 encryption. Crack ZIP passwords safely. Browser-based processing, no software installation required. Supports Windows, Mac, Linux, mobile devices. 100% secure, private, and free ZIP tools for 2026.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- JSZip library for ZIP operations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <!-- FileSaver.js for saving files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <!-- pdf-lib for PDF conversion -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <!-- mammoth for DOCX conversion -->
    <script src="https://unpkg.com/mammoth@1.5.1/mammoth.browser.min.js"></script>
    <!-- crypto-js for encryption -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #27ae60;
            --light: #f9f9f9;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            color: var(--secondary);
            font-size: 28px;
        }
        
        .logo h1 {
            font-size: 24px;
            color: var(--primary);
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
            transition: color 0.3s;
        }
        
        nav a:hover {
            color: var(--secondary);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--primary);
            cursor: pointer;
        }
        
        /* Hero Section */
        .hero {
            padding: 60px 0 40px;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .hero p {
            font-size: 1.1rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto 30px;
        }
        
        /* Drag & Drop Area */
        .drag-drop-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin: 30px auto;
            max-width: 900px;
            border: 3px dashed #ddd;
            transition: all 0.3s;
            position: relative;
        }
        
        .drag-drop-container.dragover {
            border-color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .drag-drop-content {
            text-align: center;
        }
        
        .drag-drop-icon {
            font-size: 64px;
            color: var(--secondary);
            margin-bottom: 20px;
        }
        
        .drag-drop-content h3 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .drag-drop-content p {
            color: var(--gray);
            margin-bottom: 25px;
        }
        
        .browse-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 600;
        }
        
        .browse-btn:hover {
            background-color: #2980b9;
        }
        
        .file-info {
            margin-top: 20px;
            display: none;
        }
        
        .file-list {
            list-style: none;
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            padding: 10px;
        }
        
        .file-list li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 5px;
            margin-bottom: 8px;
            transition: transform 0.2s;
        }
        
        .file-list li:hover {
            transform: translateX(5px);
            background-color: #e9ecef;
        }
        
        .file-list li .file-actions {
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            padding: 5px;
            border-radius: 3px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .action-btn.move-up {
            color: var(--secondary);
        }
        
        .action-btn.move-up:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .action-btn.move-down {
            color: var(--secondary);
        }
        
        .action-btn.move-down:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .action-btn.remove-file {
            color: var(--accent);
        }
        
        .action-btn.remove-file:hover {
            background-color: rgba(231, 76, 60, 0.1);
        }
        
        .file-order {
            background-color: var(--secondary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .extract-btn, .process-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            margin-top: 20px;
            transition: background-color 0.3s;
            display: none;
        }
        
        .extract-btn:hover, .process-btn:hover {
            background-color: #c0392b;
        }
        
        /* Tools Selection */
        .tools-selection {
            margin: 30px 0;
            text-align: center;
        }
        
        .tools-selection h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .tools-dropdown {
            width: 100%;
            max-width: 400px;
            padding: 12px;
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
            font-size: 1rem;
            margin: 0 auto;
            display: block;
        }
        
        /* Tool Options */
        .tool-options {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin: 20px auto;
            max-width: 600px;
            display: none;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .option-group input, .option-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        /* Conversion Tools */
        .tools-section {
            padding: 40px 0;
        }
        
        .tools-section h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 40px;
            font-size: 2rem;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .tool-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
        }
        
        .tool-card.active {
            border: 2px solid var(--secondary);
        }
        
        .tool-icon {
            font-size: 40px;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .tool-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .tool-card p {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        /* Features Section */
        .features {
            padding: 40px 0;
            background-color: white;
        }
        
        .features h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 40px;
            font-size: 2rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .feature-icon {
            font-size: 24px;
            color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .feature-text h3 {
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .feature-text p {
            color: var(--gray);
        }
        
        /* Output Section */
        .output-section {
            margin: 30px auto;
            max-width: 900px;
            display: none;
        }
        
        .output-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .output-files {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .output-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .download-btn {
            background-color: var(--success);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .download-btn:hover {
            background-color: #219653;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: white;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 12px;
        }
        
        .footer-column a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-column a:hover {
            color: var(--secondary);
        }
        
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .contact-item i {
            color: var(--secondary);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #ddd;
            font-size: 0.9rem;
        }
        
        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        
        .progress-bar {
            width: 0%;
            height: 10px;
            background-color: var(--secondary);
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        /* Status Message */
        .status-message {
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            display: none;
        }
        
        .status-message.success {
            background-color: rgba(46, 204, 113, 0.1);
            color: #27ae60;
            border-left: 4px solid #27ae60;
            display: block;
        }
        
        .status-message.error {
            background-color: rgba(231, 76, 60, 0.1);
            color: #c0392b;
            border-left: 4px solid #c0392b;
            display: block;
        }
        
        .status-message.info {
            background-color: rgba(52, 152, 219, 0.1);
            color: #2980b9;
            border-left: 4px solid #2980b9;
            display: block;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                padding: 15px 0;
            }
            
            nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: white;
                box-shadow: var(--box-shadow);
                padding: 20px;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 15px;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .drag-drop-container {
                padding: 30px 20px;
                margin: 20px auto;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .output-actions {
                flex-direction: column;
            }
        }dius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin: 20px auto;
            max-width: 600px;
            display: none;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .option-group input, .option-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        /* Conversion Tools */
        .tools-section {
            padding: 40px 0;
        }
        
        .tools-section h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 40px;
            font-size: 2rem;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .tool-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
        }
        
        .tool-card.active {
            border: 2px solid var(--secondary);
        }
        
        .tool-icon {
            font-size: 40px;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .tool-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .tool-card p {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        /* Features Section */
        .features {
            padding: 40px 0;
            background-color: white;
        }
        
        .features h2 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 40px;
            font-size: 2rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .feature-icon {
            font-size: 24px;
            color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .feature-text h3 {
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .feature-text p {
            color: var(--gray);
        }
        
        /* Output Section */
        .output-section {
            margin: 30px auto;
            max-width: 900px;
            display: none;
        }
        
        .output-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .output-files {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .output-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .download-btn {
            background-color: var(--success);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .download-btn:hover {
            background-color: #219653;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: white;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 12px;
        }
        
        .footer-column a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-column a:hover {
            color: var(--secondary);
        }
        
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .contact-item i {
            color: var(--secondary);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #ddd;
            font-size: 0.9rem;
        }
        
        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        
        .progress-bar {
            width: 0%;
            height: 10px;
            background-color: var(--secondary);
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 5px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        /* Status Message */
        .status-message {
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            display: none;
        }
        
        .status-message.success {
            background-color: rgba(46, 204, 113, 0.1);
            color: #27ae60;
            border-left: 4px solid #27ae60;
            display: block;
        }
        
        .status-message.error {
            background-color: rgba(231, 76, 60, 0.1);
            color: #c0392b;
            border-left: 4px solid #c0392b;
            display: block;
        }
        
        .status-message.info {
            background-color: rgba(52, 152, 219, 0.1);
            color: #2980b9;
            border-left: 4px solid #2980b9;
            display: block;
        }
        
        /* Available Tools Section */
        .available-tools {
            background: rgba(52, 152, 219, 0.1);
            padding: 10px 0;
            border-bottom: 1px solid rgba(52, 152, 219, 0.2);
        }
        
        .tools-dropdown-container {
            margin: 0;
        }
        
        .tools-grid-dropdown {
            display: flex;
            justify-content: center;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .tool-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: rgba(255,255,255,0.8);
            color: var(--primary);
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            border: 1px solid rgba(52, 152, 219, 0.3);
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .tool-link:hover {
            background: rgba(255,255,255,1);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .tool-link.external {
            background: rgba(255,255,255,0.9);
            border-color: rgba(255, 193, 7, 0.5);
        }
        
        .tool-link.external:hover {
            background: rgba(255,255,255,1);
            border-color: rgba(255, 193, 7, 0.8);
        }
        
        /* Moving Ticker */
        .ticker-container {
            overflow: hidden;
            background: rgba(0,0,0,0.1);
            border-radius: 25px;
            padding: 8px 0;
        }
        
        .ticker-content {
            display: flex;
            animation: scroll 30s linear infinite;
            white-space: nowrap;
        }
        
        .ticker-content span {
            color: white;
            padding: 0 40px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Page Content Styles */
        .page-content {
            max-width: 900px;
            margin: 40px auto;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
        }
        
        .page-content h1 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 2rem;
        }
        
        .page-content h2 {
            color: var(--primary);
            margin: 25px 0 15px;
        }
        
        .page-content p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .page-content ul, .page-content ol {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        .page-content li {
            margin-bottom: 8px;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                padding: 15px 0;
            }
            
            nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: white;
                box-shadow: var(--box-shadow);
                padding: 20px;
                z-index: 1001;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 15px;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .available-tools {
                padding: 10px 0;
            }
            
            .tools-grid-dropdown {
                justify-content: center;
            }
            
            .tool-link {
                padding: 8px 12px;
                font-size: 0.85rem;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .drag-drop-container {
                padding: 30px 20px;
                margin: 20px auto;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .output-actions {
                flex-direction: column;
            }
            
            .file-actions {
                flex-direction: column;
            }
            
            .action-btn {
                width: 25px;
                height: 25px;
            }
        }
    </style>
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-file-archive"></i>
                <h1>ZIP<span>Tools2026</span></h1>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#tools">Tools</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#privacy-policy">Privacy Policy</a></li>
                    <li><a href="#terms">Terms of Service</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Available Tools Box -->
    <div class="available-tools">
        <div class="container">
            <div class="tools-dropdown-container">
                <div class="tools-grid-dropdown">
                    <a href="https://pdftools2026.online" class="tool-link external" target="_blank">
                        <i class="fas fa-file-pdf"></i> PDF Tools 2026
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="container">
        <!-- Hero Section -->
        <section class="hero" id="home">
            <h2>Professional Online ZIP File Management</h2>
            <p>Extract, compress, convert, and encrypt files with our secure, browser-based tools. No software installation required. Fast, reliable, and completely free!</p>
            
            <!-- Tools Selection -->
            <div class="tools-selection">
                <h3>Select a Tool to Use</h3>
                <select class="tools-dropdown" id="toolsDropdown">
                    <option value="">-- Select a Tool --</option>
                    <option value="extract">ZIP to Unzip</option>
                    <option value="compress">Files to ZIP</option>
                    <option value="convert">ZIP Format Converter</option>
                    <option value="encrypt">ZIP Password Protector</option>
                    <option value="crack">ZIP Password Remover</option>
                </select>
            </div>
            
            <!-- Tool Options (Dynamic) -->
            <div class="tool-options" id="toolOptions"></div>
            
            <!-- Drag & Drop Area -->
            <div class="drag-drop-container" id="dropArea">
                <div class="drag-drop-content">
                    <div class="drag-drop-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <h3 id="dropAreaTitle">Drag & Drop Your Files Here</h3>
                    <p id="dropAreaDescription">Upload ZIP, RAR, TAR, or other archive files to extract. Also supports folder uploads.</p>
                    <input type="file" id="fileInput" multiple accept=".zip,.rar,.7z,.tar,.gz,.bz2" style="display: none;" />
                    <button class="browse-btn" id="browseBtn">Browse Files</button>
                    <p class="file-type-info" id="fileTypeInfo">Supports: ZIP, RAR, 7Z, TAR, GZIP</p>
                    
                    <div class="file-info" id="fileInfo">
                        <h4>Selected Files: <span id="fileCount">0</span></h4>
                        <ul class="file-list" id="fileList"></ul>
                        <button class="process-btn" id="processBtn">Process Files</button>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                        <div class="progress-text" id="progressText">0%</div>
                    </div>
                    
                    <!-- Status Message -->
                    <div class="status-message" id="statusMessage"></div>
                </div>
            </div>
            
            <!-- Output Section -->
            <div class="output-section" id="outputSection">
                <h3>Processed Files:</h3>
                <div class="output-files" id="outputFiles"></div>
                <div class="output-actions" id="outputActions"></div>
            </div>
        </section>

        <!-- Tools Section -->
        <section class="tools-section" id="tools">
            <h2>Our File Management Tools</h2>
            <div class="tools-grid">
                <div class="tool-card" data-tool="extract">
                    <div class="tool-icon">
                        <i class="fas fa-file-archive"></i>
                    </div>
                    <h3>ZIP Extractor</h3>
                    <p>Extract files from ZIP, RAR, 7Z, TAR, and other archive formats quickly and securely.</p>
                </div>
                
                <div class="tool-card" data-tool="compress">
                    <div class="tool-icon">
                        <i class="fas fa-compress-arrows-alt"></i>
                    </div>
                    <h3>ZIP Compressor</h3>
                    <p>Compress files and folders into ZIP archives to reduce size and make sharing easier.</p>
                </div>
                
                <div class="tool-card" data-tool="convert">
                    <div class="tool-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h3>ZIP Converter</h3>
                    <p>Convert between different archive formats including ZIP, RAR, 7Z, and TAR.</p>
                </div>
                
                <div class="tool-card" data-tool="encrypt">
                    <div class="tool-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>ZIP Encryptor</h3>
                    <p>Add password protection and encrypt your ZIP files before sharing for security.</p>
                </div>
                
                <div class="tool-card" data-tool="crack">
                    <div class="tool-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <h3>Password Cracker</h3>
                    <p>Crack passwords of encrypted ZIP files using dictionary and brute force attacks.</p>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features" id="features">
            <h2>Why Choose ZIPTools2026?</h2>
            <div class="features-grid">
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="feature-text">
                        <h3>Secure & Private <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">All file processing happens in your browser. We don't upload your files to our servers, ensuring complete privacy.</p>
                        <div class="feature-details">
                            <p><strong>Advanced Security Features:</strong></p>
                            <ul>
                                <li>‚úÖ Client-side processing only</li>
                                <li>‚úÖ No data transmission to servers</li>
                                <li>‚úÖ Files never leave your device</li>
                                <li>‚úÖ Zero data collection policy</li>
                                <li>‚úÖ HTTPS encrypted connections</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="feature-text">
                        <h3>Fast Processing <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">Our optimized tools process files quickly, saving you time whether you're extracting or compressing.</p>
                        <div class="feature-details">
                            <p><strong>Performance Benefits:</strong></p>
                            <ul>
                                <li>‚ö° Multi-threaded processing</li>
                                <li>‚ö° Optimized compression algorithms</li>
                                <li>‚ö° Batch file processing</li>
                                <li>‚ö° Real-time progress tracking</li>
                                <li>‚ö° Memory efficient operations</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-desktop"></i>
                    </div>
                    <div class="feature-text">
                        <h3>No Installation <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">Use directly in your browser without downloading or installing any software. Works on all devices.</p>
                        <div class="feature-details">
                            <p><strong>Cross-Platform Compatibility:</strong></p>
                            <ul>
                                <li>üñ•Ô∏è Windows, Mac, Linux support</li>
                                <li>üì± Mobile and tablet friendly</li>
                                <li>üåê All modern browsers supported</li>
                                <li>‚òÅÔ∏è No software downloads required</li>
                                <li>üîÑ Always up-to-date features</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <div class="feature-text">
                        <h3>Folder Support <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">Upload entire folders or multiple files at once. Our drag-and-drop interface makes it easy.</p>
                        <div class="feature-details">
                            <p><strong>Advanced File Handling:</strong></p>
                            <ul>
                                <li>üìÅ Drag & drop entire folders</li>
                                <li>üìÑ Multiple file selection</li>
                                <li>üîÑ File order management</li>
                                <li>üìä Real-time file preview</li>
                                <li>üóÇÔ∏è Nested folder structure support</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-file-archive"></i>
                    </div>
                    <div class="feature-text">
                        <h3>Multiple Formats <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">Support for ZIP, RAR, 7Z, TAR, GZIP and more. Convert between different archive formats easily.</p>
                        <div class="feature-details">
                            <p><strong>Supported Formats:</strong></p>
                            <ul>
                                <li>üì¶ ZIP - Most popular format</li>
                                <li>üì¶ RAR - High compression ratio</li>
                                <li>üì¶ 7Z - Advanced compression</li>
                                <li>üì¶ TAR - Unix/Linux standard</li>
                                <li>üì¶ GZIP, BZIP2 - Compression formats</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="feature-item expandable" onclick="toggleFeature(this)">
                    <div class="feature-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div class="feature-text">
                        <h3>Password Protection <i class="fas fa-chevron-down expand-icon"></i></h3>
                        <p class="feature-summary">Add strong encryption and password protection to your ZIP files for enhanced security.</p>
                        <div class="feature-details">
                            <p><strong>Encryption Features:</strong></p>
                            <ul>
                                <li>üîê AES-256 encryption standard</li>
                                <li>üîë Custom password protection</li>
                                <li>üõ°Ô∏è Military-grade security</li>
                                <li>üîí Password strength validation</li>
                                <li>üîì Password recovery tools</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Privacy Policy Page Content (Hidden by default) -->
        <section id="privacy-policy" class="page-content" style="display: none;">
            <h1>Privacy Policy</h1>
            <p>Last updated: January 11, 2026</p>
            
            <h2>1. Information We Collect</h2>
            <p>ZIPTools2026 is committed to protecting your privacy. Our tools are designed to process files directly in your browser without uploading them to our servers. We do not collect, store, or have access to the files you process using our tools.</p>
            
            <h2>2. Technical Information</h2>
            <p>We may collect anonymous usage statistics to improve our services, including:</p>
            <ul>
                <li>Browser type and version</li>
                <li>Device type and operating system</li>
                <li>Date and time of access</li>
                <li>Which tools are used most frequently</li>
            </ul>
            
            <h2>3. Cookies</h2>
            <p>We use only essential cookies to maintain your session and preferences. We do not use tracking cookies for advertising purposes.</p>
            
            <h2>4. Third-Party Services</h2>
            <p>We may use third-party services like Google Analytics to understand how our website is used. These services collect only anonymous, aggregated data.</p>
            
            <h2>5. Your Rights</h2>
            <p>You have the right to:</p>
            <ul>
                <li>Access any personal information we hold about you</li>
                <li>Request correction of inaccurate data</li>
                <li>Request deletion of your data</li>
            </ul>
            
            <h2>6. Contact Us</h2>
            <p>If you have questions about this Privacy Policy, please contact us through our contact page.</p>
        </section>

        <!-- Terms of Service Page Content (Hidden by default) -->
        <section id="terms" class="page-content" style="display: none;">
            <h1>Terms of Service</h1>
            <p>Last updated: January 11, 2026</p>
            
            <h2>1. Acceptance of Terms</h2>
            <p>By accessing and using ZIPTools2026, you accept and agree to be bound by these Terms of Service. If you do not agree, please do not use our services.</p>
            
            <h2>2. Service Description</h2>
            <p>ZIPTools2026 provides browser-based file management tools including extraction, compression, and conversion services. All processing occurs locally in your browser.</p>
            
            <h2>3. User Responsibilities</h2>
            <p>You agree not to use our services for:</p>
            <ul>
                <li>Illegal activities or purposes</li>
                <li>Processing files without proper authorization</li>
                <li>Attempting to breach our security measures</li>
                <li>Uploading malicious or harmful files</li>
            </ul>
            
            <h2>4. Intellectual Property</h2>
            <p>The ZIPTools2026 website, logo, design, and all content are our property. You may not copy, modify, or distribute any part of our service without permission.</p>
            
            <h2>5. Limitation of Liability</h2>
            <p>We provide our services "as is" without warranties. We are not liable for any data loss, damages, or other issues arising from the use of our tools.</p>
            
            <h2>6. Changes to Terms</h2>
            <p>We may update these terms periodically. Continued use of our services after changes constitutes acceptance of the new terms.</p>
        </section>

        <!-- Contact Page Content (Hidden by default) -->
        <section id="contact" class="page-content" style="display: none;">
            <h1>Contact Us</h1>
            <p>We're here to help with any questions or concerns about ZIPTools2026.</p>
            
            <div class="contact-info" style="margin-top: 30px;">
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span>Phone: 03447814644</span>
                </div>
                
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>Email: sufiangsufiang15@gmail.com</span>
                </div>
                
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Address: Professional Web Tools Services</span>
                </div>
            </div>
            
            <h2 style="margin-top: 40px;">Send us a Message</h2>
            <form id="contactForm" style="margin-top: 20px;">
                <div style="margin-bottom: 20px;">
                    <label for="name" style="display: block; margin-bottom: 8px; font-weight: 600;">Your Name</label>
                    <input type="text" id="name" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: var(--border-radius);">
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="email" style="display: block; margin-bottom: 8px; font-weight: 600;">Your Email</label>
                    <input type="email" id="email" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: var(--border-radius);">
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="message" style="display: block; margin-bottom: 8px; font-weight: 600;">Message</label>
                    <textarea id="message" rows="5" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: var(--border-radius);"></textarea>
                </div>
                
                <button type="submit" class="browse-btn" style="width: 100%;">Send Message</button>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ZIPTools2026</h3>
                    <p>Professional online file management tools for extraction, compression, and conversion. Fast, secure, and free.</p>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#tools">Tools</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#privacy-policy">Privacy Policy</a></li>
                        <li><a href="#terms">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>03447814644</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>sufiangsufiang15@gmail.com</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2026 ZIPTools2026. All rights reserved. | Professional Online File Management Tools</p>
            </div>
        </div>
    </footer>

    <script>
        // ========== GLOBAL VARIABLES ==========
        let selectedFiles = [];
        let currentTool = '';
        let outputFiles = [];
        
        // ========== DOM ELEMENTS ==========
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');
        const toolsDropdown = document.getElementById('toolsDropdown');
        const toolOptions = document.getElementById('toolOptions');
        const dropArea = document.getElementById('dropArea');
        const fileInput = document.getElementById('fileInput');
        const browseBtn = document.getElementById('browseBtn');
        const fileInfo = document.getElementById('fileInfo');
        const fileList = document.getElementById('fileList');
        const fileCountSpan = document.getElementById('fileCount');
        const processBtn = document.getElementById('processBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const statusMessage = document.getElementById('statusMessage');
        const outputSection = document.getElementById('outputSection');
        const outputFilesDiv = document.getElementById('outputFiles');
        const outputActions = document.getElementById('outputActions');
        const dropAreaTitle = document.getElementById('dropAreaTitle');
        const dropAreaDescription = document.getElementById('dropAreaDescription');
        const fileTypeInfo = document.getElementById('fileTypeInfo');
        const toolCards = document.querySelectorAll('.tool-card');
        
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            loadFromLocalStorage();
        });
        
        // ========== EVENT LISTENERS SETUP ==========
        function setupEventListeners() {
            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', () => {
                mainNav.classList.toggle('active');
            });
            
            // Navigation between pages
            document.querySelectorAll('nav a, .footer-column a').forEach(link => {
                link.addEventListener('click', handleNavigation);
            });
            
            // Tool selection from dropdown
            toolsDropdown.addEventListener('change', handleToolSelection);
            
            // Tool selection from cards and links
            toolCards.forEach(card => {
                card.addEventListener('click', () => {
                    const tool = card.getAttribute('data-tool');
                    toolsDropdown.value = tool;
                    handleToolSelection({target: toolsDropdown});
                    
                    // Scroll to drag and drop area
                    document.querySelector('.hero').scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Tool selection from available tools links
            document.querySelectorAll('.tool-link:not(.external)').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tool = link.getAttribute('data-tool');
                    toolsDropdown.value = tool;
                    handleToolSelection({target: toolsDropdown});
                    
                    // Scroll to drag and drop area
                    document.querySelector('.hero').scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Drag and drop functionality
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });
            
            dropArea.addEventListener('drop', handleDrop);
            dropArea.addEventListener('dragover', highlight);
            dropArea.addEventListener('dragleave', unhighlight);
            
            // File input
            browseBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', () => handleFiles(fileInput.files));
            
            // Process button
            processBtn.addEventListener('click', processFiles);
            
            // Contact form
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const message = document.getElementById('message').value;
                    
                    if (!name || !email || !message) {
                        showStatus('Please fill in all fields', 'error');
                        return;
                    }
                    
                    showStatus('Thank you for your message! We will respond soon.', 'success');
                    contactForm.reset();
                });
            }
        }
        
        // ========== TOOL SELECTION ==========
        function handleToolSelection(e) {
            const tool = e.target.value;
            currentTool = tool;
            
            // Update tool cards active state
            toolCards.forEach(card => {
                card.classList.remove('active');
                if (card.getAttribute('data-tool') === tool) {
                    card.classList.add('active');
                }
            });
            
            // Reset UI
            resetUI();
            
            // Show tool-specific options
            showToolOptions(tool);
            
            // Update drag and drop area text
            updateDragDropArea(tool);
        }
        
        function showToolOptions(tool) {
            let optionsHTML = '';
            
            switch(tool) {
                case 'extract':
                    optionsHTML = `
                        <div class="option-group">
                            <label>Extraction Options:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="preserveStructure" checked>
                                <label for="preserveStructure">Preserve folder structure</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="overwriteFiles" checked>
                                <label for="overwriteFiles">Overwrite existing files</label>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'compress':
                    optionsHTML = `
                        <div class="option-group">
                            <label>Compression Level:</label>
                            <select id="compressionLevel">
                                <option value="1">Fast (Low Compression)</option>
                                <option value="5" selected>Normal</option>
                                <option value="9">Maximum (Slow)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>ZIP File Name:</label>
                            <input type="text" id="zipName" value="archive_${Date.now()}.zip">
                        </div>
                    `;
                    break;
                    
                case 'convert':
                    optionsHTML = `
                        <div class="option-group">
                            <label>Convert to Format:</label>
                            <select id="convertFormat">
                                <option value="zip">ZIP Archive</option>
                                <option value="tar">TAR Archive</option>
                                <option value="json">JSON Data</option>
                                <option value="txt">Text List</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>Compression Quality:</label>
                            <select id="convertQuality">
                                <option value="9">Maximum Compression</option>
                                <option value="6" selected>Balanced</option>
                                <option value="3">Fast Compression</option>
                                <option value="1">No Compression</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>Output Options:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="preserveStructure" checked>
                                <label for="preserveStructure">Preserve folder structure</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="includeMetadata" checked>
                                <label for="includeMetadata">Include file metadata</label>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'encrypt':
                    optionsHTML = `
                        <div class="option-group">
                            <label>Encryption Password:</label>
                            <input type="password" id="encryptPassword" placeholder="Enter strong password (min 4 chars)" minlength="4" required>
                        </div>
                        <div class="option-group">
                            <label>Confirm Password:</label>
                            <input type="password" id="encryptConfirm" placeholder="Confirm password" required>
                        </div>
                        <div class="option-group">
                            <label>Encryption Strength:</label>
                            <select id="encryptMethod">
                                <option value="aes-256">AES-256 (Maximum Security)</option>
                                <option value="aes-192">AES-192 (High Security)</option>
                                <option value="aes-128" selected>AES-128 (Balanced)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>Additional Options:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="addTimestamp" checked>
                                <label for="addTimestamp">Add timestamp to filename</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="createBackup">
                                <label for="createBackup">Keep original file backup</label>
                            </div>
                        </div>
                        <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px; padding: 15px; margin-top: 15px;">
                            <h4 style="color: #856404; margin-bottom: 8px;"><i class="fas fa-exclamation-triangle"></i> Important:</h4>
                            <p style="color: #856404; font-size: 0.9rem; margin: 0;">The password will be required to extract files. Without the correct password, files cannot be recovered!</p>
                        </div>
                    `;
                    break;
                    
                case 'crack':
                    optionsHTML = `
                        <div class="option-group">
                            <label>Cracking Method:</label>
                            <select id="crackMethod">
                                <option value="dictionary">Dictionary Attack (Fast)</option>
                                <option value="brute">Brute Force Attack (Slow)</option>
                                <option value="hybrid">Hybrid Attack (Recommended)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>Password Length Range:</label>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <input type="number" id="minLength" value="4" min="1" max="12" style="width: 80px;"> 
                                <span>to</span>
                                <input type="number" id="maxLength" value="8" min="1" max="12" style="width: 80px;"> 
                                <span>characters</span>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>Character Set:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="useNumbers" checked>
                                <label for="useNumbers">Numbers (0-9)</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="useLowercase" checked>
                                <label for="useLowercase">Lowercase (a-z)</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="useUppercase">
                                <label for="useUppercase">Uppercase (A-Z)</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="useSpecial">
                                <label for="useSpecial">Special (!@#$%)</label>
                            </div>
                        </div>
                        <div class="option-group">
                            <label>Custom Dictionary (one password per line):</label>
                            <textarea id="customDict" rows="4" placeholder="password\n123456\nadmin\ntest\nqwerty\n12345678"></textarea>
                        </div>
                        <div style="background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 5px; padding: 15px; margin-top: 15px;">
                            <h4 style="color: #721c24; margin-bottom: 8px;"><i class="fas fa-exclamation-triangle"></i> Warning:</h4>
                            <p style="color: #721c24; font-size: 0.9rem; margin: 0;">Use only on files you own or have permission to crack. Brute force may take very long time!</p>
                        </div>
                    `;
                    break;
            }
            
            if (optionsHTML) {
                toolOptions.innerHTML = optionsHTML;
                toolOptions.style.display = 'block';
            } else {
                toolOptions.style.display = 'none';
            }
        }
        
        function updateSplitOptions() {
            const method = document.getElementById('splitMethod').value;
            const splitOptions = document.getElementById('splitOptions');
            
            let html = '';
            switch(method) {
                case 'pages':
                    html = `<label>Page Range (e.g., 1-5,8,10-15):</label>
                            <input type="text" id="pageRange" placeholder="1-5,8,10-15">`;
                    break;
                case 'size':
                    html = `<label>Maximum Size per File (MB):</label>
                            <input type="number" id="maxSize" value="10" min="1" max="100">`;
                    break;
                case 'count':
                    html = `<label>Number of Files to Create:</label>
                            <input type="number" id="fileCount" value="3" min="2" max="50">`;
                    break;
            }
            
            splitOptions.innerHTML = html;
        }
        
        function updateDragDropArea(tool) {
            const fileInput = document.getElementById('fileInput');
            
            switch(tool) {
                case 'extract':
                    dropAreaTitle.textContent = 'Drag & Drop ZIP Files Here';
                    dropAreaDescription.textContent = 'Upload ZIP, RAR, 7Z, TAR, or other archive files to extract all contents.';
                    fileTypeInfo.textContent = 'Supports: ZIP, RAR, 7Z, TAR, GZIP, BZ2';
                    fileInput.setAttribute('accept', '.zip,.rar,.7z,.tar,.gz,.bz2');
                    break;
                case 'compress':
                    dropAreaTitle.textContent = 'Drag & Drop Files to Compress';
                    dropAreaDescription.textContent = 'Upload any files and folders to compress into a ZIP archive.';
                    fileTypeInfo.textContent = 'Supports: All file types and folders';
                    fileInput.removeAttribute('accept');
                    break;
                case 'convert':
                    dropAreaTitle.textContent = 'Drag & Drop Archives to Convert';
                    dropAreaDescription.textContent = 'Upload archive files to convert between different formats.';
                    fileTypeInfo.textContent = 'Supports: ZIP, RAR, 7Z, TAR, GZIP';
                    fileInput.setAttribute('accept', '.zip,.rar,.7z,.tar,.gz');
                    break;
                case 'encrypt':
                    dropAreaTitle.textContent = 'Drag & Drop ZIP Files to Encrypt';
                    dropAreaDescription.textContent = 'Upload ZIP files to add password protection and encryption.';
                    fileTypeInfo.textContent = 'Supports: ZIP files only';
                    fileInput.setAttribute('accept', '.zip');
                    break;
                default:
                    dropAreaTitle.textContent = 'Drag & Drop Your Files Here';
                    dropAreaDescription.textContent = 'Select a tool first, then upload your files.';
                    fileTypeInfo.textContent = 'Supports: Various archive formats';
                    fileInput.removeAttribute('accept');
            }
        }
        
        // ========== DRAG AND DROP HANDLING ==========
        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        
        function highlight() {
            dropArea.classList.add('dragover');
        }
        
        function unhighlight() {
            dropArea.classList.remove('dragover');
        }
        
        function handleDrop(e) {
            unhighlight();
            const dt = e.dataTransfer;
            const files = Array.from(dt.files);
            handleFiles(files);
        }
        
        // ========== FILE HANDLING ==========
        function handleFiles(files) {
            if (!currentTool) {
                showStatus('Please select a tool first', 'error');
                return;
            }
            
            // Add new files to existing selection
            Array.from(files).forEach(file => {
                selectedFiles.push(file);
            });
            
            // Update file list display
            updateFileListDisplay();
            
            // Save to local storage
            saveToLocalStorage();
            
            // Show file info and process button
            fileInfo.style.display = 'block';
            processBtn.style.display = 'inline-block';
            processBtn.textContent = getProcessButtonText();
            
            showStatus(`Added ${files.length} file(s). Total: ${selectedFiles.length} files`, 'success');
        }
        
        function addFileToList(file, index) {
            const li = document.createElement('li');
            li.setAttribute('data-index', index);
            li.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                    <div class="file-order">${index + 1}</div>
                    <i class="fas ${getFileIcon(file)}"></i>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--primary);">${file.name}</div>
                        <div style="font-size: 0.8rem; color: var(--gray);">${formatFileSize(file.size)}</div>
                    </div>
                </div>
                <div class="file-actions">
                    <button class="action-btn move-up" title="Move up"><i class="fas fa-arrow-up"></i></button>
                    <button class="action-btn move-down" title="Move down"><i class="fas fa-arrow-down"></i></button>
                    <button class="action-btn remove-file" title="Remove file"><i class="fas fa-times"></i></button>
                </div>
            `;
            
            // Add event listeners for buttons
            li.querySelector('.move-up').addEventListener('click', () => moveFileUp(index));
            li.querySelector('.move-down').addEventListener('click', () => moveFileDown(index));
            li.querySelector('.remove-file').addEventListener('click', () => {
                selectedFiles.splice(index, 1);
                updateFileListDisplay();
                saveToLocalStorage();
                showStatus('File removed', 'info');
            });
            
            return li;
        }
        
        function updateFileListDisplay() {
            fileList.innerHTML = '';
            fileCountSpan.textContent = selectedFiles.length;
            
            selectedFiles.forEach((file, index) => {
                const li = addFileToList(file, index);
                fileList.appendChild(li);
            });
            
            if (selectedFiles.length === 0) {
                fileInfo.style.display = 'none';
            }
        }
        
        // Move file up in the list
        function moveFileUp(index) {
            if (index > 0) {
                const temp = selectedFiles[index];
                selectedFiles[index] = selectedFiles[index - 1];
                selectedFiles[index - 1] = temp;
                updateFileListDisplay();
                saveToLocalStorage();
                showStatus('File moved up', 'info');
            }
        }
        
        // Move file down in the list
        function moveFileDown(index) {
            if (index < selectedFiles.length - 1) {
                const temp = selectedFiles[index];
                selectedFiles[index] = selectedFiles[index + 1];
                selectedFiles[index + 1] = temp;
                updateFileListDisplay();
                saveToLocalStorage();
                showStatus('File moved down', 'info');
            }
        }
        
        function getFileIcon(file) {
            if (file.name.match(/\.(zip|rar|7z|tar|gz|bz2)$/i)) return 'fa-file-archive';
            if (file.name.match(/\.(pdf)$/i)) return 'fa-file-pdf';
            if (file.name.match(/\.(doc|docx)$/i)) return 'fa-file-word';
            if (file.name.match(/\.(jpg|jpeg|png|gif|bmp|webp)$/i)) return 'fa-file-image';
            if (file.name.match(/\.(txt|md|rtf)$/i)) return 'fa-file-alt';
            return 'fa-file';
        }
        
        function getProcessButtonText() {
            switch(currentTool) {
                case 'extract': return 'Extract Files';
                case 'compress': return 'Compress Files';
                case 'convert': return 'Convert Archive';
                case 'encrypt': return 'Encrypt ZIP';
                default: return 'Process Files';
            }
        }
        
        // ========== FILE PROCESSING ==========
        async function processFiles() {
            if (selectedFiles.length === 0) {
                showStatus('No files selected', 'error');
                return;
            }
            
            // Validate tool-specific requirements
            if (!validateToolRequirements()) return;
            
            // Show progress
            showProgress(0, 'Starting...');
            outputSection.style.display = 'none';
            
            try {
                // Process based on selected tool
                switch(currentTool) {
                    case 'extract':
                        await extractFiles();
                        break;
                    case 'compress':
                        await compressFiles();
                        break;
                    case 'convert':
                        await convertFiles();
                        break;
                    case 'encrypt':
                        await encryptFiles();
                        break;
                }
                
                showProgress(100, 'Completed!');
                
                // Clear selection after processing
                setTimeout(() => {
                    selectedFiles = [];
                    updateFileListDisplay();
                    saveToLocalStorage();
                }, 2000);
                
            } catch (error) {
                showProgress(0, 'Error!');
                showStatus(`Error: ${error.message}`, 'error');
                console.error(error);
            }
        }
        
        function validateToolRequirements() {
            switch(currentTool) {
                case 'encrypt':
                    const password = document.getElementById('encryptPassword')?.value;
                    const confirm = document.getElementById('encryptConfirm')?.value;
                    
                    if (!password || password.length < 4) {
                        showStatus('‚ùå Password must be at least 4 characters long', 'error');
                        return false;
                    }
                    
                    if (password !== confirm) {
                        showStatus('‚ùå Passwords do not match! Please check both fields.', 'error');
                        return false;
                    }
                    
                    // Check password strength
                    if (password.length < 6) {
                        const proceed = confirm(`‚ö†Ô∏è Password is short (${password.length} characters).\n\nFor better security, use 6+ characters.\n\nContinue anyway?`);
                        if (!proceed) return false;
                    }
                    
                    break;
                    
                case 'merge':
                case 'split':
                    // Check if all files are PDFs
                    const nonPDF = selectedFiles.find(f => !f.name.toLowerCase().endsWith('.pdf'));
                    if (nonPDF) {
                        showStatus('Only PDF files are supported for this tool', 'error');
                        return false;
                    }
                    if (currentTool === 'merge' && selectedFiles.length < 2) {
                        showStatus('Please select at least 2 PDF files to merge', 'error');
                        return false;
                    }
                    break;
            }
            return true;
        }
        
        // ========== TOOL IMPLEMENTATIONS ==========
        
        // 1. EXTRACT FILES - IMPROVED WITH PASSWORD SUPPORT
        async function extractFiles() {
            showProgress(10, 'Reading ZIP files...');
            
            const preserveStructure = document.getElementById('preserveStructure')?.checked || true;
            outputFiles = [];
            
            for (let i = 0; i < selectedFiles.length; i++) {
                const file = selectedFiles[i];
                showProgress(10 + (i * 80 / selectedFiles.length), `Processing ${file.name}...`);
                
                try {
                    if (!file.name.toLowerCase().match(/\.(zip|rar|7z|tar|gz|bz2)$/)) {
                        showStatus(`${file.name} is not a valid archive file`, 'error');
                        continue;
                    }
                    
                    const zip = new JSZip();
                    const contents = await zip.loadAsync(file);
                    
                    // Check if this is a password-protected ZIP from our tool
                    if (contents.files['encryption_info.json']) {
                        await extractPasswordProtectedZip(contents, file.name, preserveStructure);
                    } else {
                        await extractNormalZip(contents, file.name, preserveStructure);
                    }
                    
                } catch (error) {
                    showStatus(`Error extracting ${file.name}: ${error.message}`, 'error');
                    console.error('Extraction error:', error);
                    continue;
                }
            }
            
            if (outputFiles.length > 0) {
                showProgress(100, 'Extraction completed!');
                showStatus(`Successfully extracted ${outputFiles.length} files from ${selectedFiles.length} archive(s)!`, 'success');
                showOutput();
            } else {
                showProgress(0, 'Failed!');
                showStatus('No files could be extracted. Please check your ZIP files.', 'error');
            }
        }
        
        // Extract password-protected ZIP files
        async function extractPasswordProtectedZip(contents, fileName, preserveStructure) {
            try {
                // Read encryption info
                const encryptionInfo = JSON.parse(await contents.files['encryption_info.json'].async('text'));
                
                let password = null;
                let attempts = 0;
                const maxAttempts = 3;
                
                while (attempts < maxAttempts && !password) {
                    attempts++;
                    
                    const inputPassword = prompt(`üîí PASSWORD PROTECTED ZIP FILE\n\n` +
                        `Original file: ${encryptionInfo.originalName}\n` +
                        `Encrypted: ${new Date(encryptionInfo.timestamp).toLocaleString()}\n` +
                        `Encryption: ${encryptionInfo.method.toUpperCase()}\n\n` +
                        `${attempts > 1 ? '‚ùå Previous password was incorrect!\n\n' : ''}` +
                        `Please enter the password (Attempt ${attempts}/${maxAttempts}):`);
                    
                    if (!inputPassword) {
                        showStatus('Password required to extract encrypted files', 'error');
                        return;
                    }
                    
                    showProgress(30, `Verifying password (attempt ${attempts})...`);
                    
                    // Verify password using password check file
                    try {
                        const encryptedCheck = await contents.files['password_check.enc'].async('text');
                        const decryptedCheck = CryptoJS.AES.decrypt(encryptedCheck, inputPassword + encryptionInfo.salt).toString(CryptoJS.enc.Utf8);
                        
                        if (decryptedCheck && decryptedCheck.startsWith('PASSWORD_CORRECT_')) {
                            password = inputPassword;
                            showProgress(50, '‚úÖ Password verified! Decrypting files...');
                            break;
                        } else {
                            if (attempts >= maxAttempts) {
                                showStatus(`‚ùå Maximum password attempts (${maxAttempts}) exceeded! Cannot extract files.`, 'error');
                                return;
                            }
                            showProgress(0, `‚ùå Incorrect password (${attempts}/${maxAttempts})`);
                            await new Promise(resolve => setTimeout(resolve, 1000));
                        }
                    } catch (error) {
                        if (attempts >= maxAttempts) {
                            showStatus(`‚ùå Maximum password attempts exceeded! Access denied.`, 'error');
                            return;
                        }
                        showProgress(0, `‚ùå Invalid password (${attempts}/${maxAttempts})`);
                        await new Promise(resolve => setTimeout(resolve, 1000));
                    }
                }
                
                if (!password) {
                    showStatus('‚ùå Access denied! Correct password required.', 'error');
                    return;
                }
                
                showProgress(60, 'üîì Decrypting files...');
                
                // Decrypt the main data
                try {
                    const encryptedData = await contents.files['encrypted_data.enc'].async('text');
                    const decryptedData = CryptoJS.AES.decrypt(encryptedData, password + encryptionInfo.salt).toString(CryptoJS.enc.Utf8);
                    
                    if (!decryptedData) {
                        showStatus('‚ùå Decryption failed! File may be corrupted.', 'error');
                        return;
                    }
                    
                    const fileData = JSON.parse(decryptedData);
                    
                    showProgress(80, 'üìÅ Reconstructing files...');
                    
                    if (fileData.name) {
                        // Single file
                        const uint8Array = new Uint8Array(fileData.data);
                        const blob = new Blob([uint8Array], { type: fileData.type });
                        
                        outputFiles.push({
                            name: fileData.name,
                            data: blob,
                            type: fileData.type,
                            originalPath: fileData.name,
                            sourceArchive: fileName,
                            decrypted: true
                        });
                    } else {
                        // Multiple files from ZIP
                        for (const filename in fileData) {
                            const uint8Array = new Uint8Array(fileData[filename]);
                            const blob = new Blob([uint8Array]);
                            const extractedName = preserveStructure ? filename : filename.split('/').pop();
                            
                            outputFiles.push({
                                name: extractedName,
                                data: blob,
                                type: getFileTypeFromExtension(extractedName),
                                originalPath: filename,
                                sourceArchive: fileName,
                                decrypted: true
                            });
                        }
                    }
                    
                    showProgress(100, '‚úÖ Successfully decrypted!');
                    showStatus(`üîì Successfully decrypted and extracted ${outputFiles.length} files!`, 'success');
                    
                } catch (decryptError) {
                    showStatus(`‚ùå Decryption failed: ${decryptError.message}`, 'error');
                    console.error('Decryption error:', decryptError);
                }
                
            } catch (error) {
                showStatus(`‚ùå Failed to process encrypted ZIP: ${error.message}`, 'error');
                console.error('Password protection error:', error);
            }
        }
        
        // Extract normal ZIP files
        async function extractNormalZip(contents, fileName, preserveStructure) {
            let fileIndex = 0;
            const allFiles = Object.keys(contents.files).filter(name => !contents.files[name].dir);
            const totalFiles = allFiles.length;
            
            if (totalFiles === 0) {
                showStatus(`${fileName} contains no extractable files`, 'error');
                return;
            }
            
            for (const filename of allFiles) {
                fileIndex++;
                const progress = 30 + (fileIndex / totalFiles * 60);
                showProgress(progress, `Extracting ${filename}...`);
                
                try {
                    const fileData = await contents.files[filename].async('blob');
                    const extractedName = preserveStructure ? filename : filename.split('/').pop();
                    
                    outputFiles.push({
                        name: extractedName,
                        data: fileData,
                        type: getFileTypeFromExtension(extractedName),
                        originalPath: filename,
                        sourceArchive: fileName
                    });
                    
                } catch (fileError) {
                    console.warn(`Could not extract ${filename}:`, fileError);
                    continue;
                }
                
                await new Promise(resolve => setTimeout(resolve, 5));
            }
        }
        
        // 2. COMPRESS FILES - REAL WORKING VERSION
        async function compressFiles() {
            showProgress(10, 'Creating ZIP archive...');
            
            const zip = new JSZip();
            const zipName = document.getElementById('zipName')?.value || `compressed_${Date.now()}.zip`;
            const compressionLevel = parseInt(document.getElementById('compressionLevel')?.value || '5');
            
            for (let i = 0; i < selectedFiles.length; i++) {
                const file = selectedFiles[i];
                showProgress(10 + (i * 40), `Adding ${file.name} to archive...`);
                
                // Add file to ZIP with proper compression
                zip.file(file.name, file, {
                    compression: "DEFLATE",
                    compressionOptions: { level: compressionLevel }
                });
                
                await new Promise(resolve => setTimeout(resolve, 50));
            }
            
            showProgress(70, 'Generating ZIP file...');
            
            try {
                const zipBlob = await zip.generateAsync({
                    type: 'blob',
                    compression: "DEFLATE",
                    compressionOptions: { level: compressionLevel }
                });
                
                outputFiles = [{
                    name: zipName,
                    data: zipBlob,
                    type: 'application/zip'
                }];
                
                const originalSize = selectedFiles.reduce((sum, file) => sum + file.size, 0);
                const compressedSize = zipBlob.size;
                const compressionRatio = ((originalSize - compressedSize) / originalSize * 100).toFixed(1);
                
                showStatus(`${selectedFiles.length} files compressed into ${zipName}. Compression: ${compressionRatio}% saved!`, 'success');
                showOutput();
                
            } catch (error) {
                showStatus(`Compression failed: ${error.message}`, 'error');
            }
        }
        
        // 3. CONVERT FILES - COMPLETE 4 CONVERTERS
        async function convertFiles() {
            const format = document.getElementById('convertFormat')?.value || 'zip';
            const quality = parseInt(document.getElementById('convertQuality')?.value || '6');
            const preserveStructure = document.getElementById('preserveStructure')?.checked || true;
            const includeMetadata = document.getElementById('includeMetadata')?.checked || true;
            
            outputFiles = [];
            
            for (let i = 0; i < selectedFiles.length; i++) {
                const file = selectedFiles[i];
                showProgress((i / selectedFiles.length) * 100, `Converting ${file.name} to ${format.toUpperCase()}...`);
                
                try {
                    let convertedFile;
                    
                    // Check if input is an archive
                    if (file.name.toLowerCase().match(/\.(zip|rar|7z|tar|gz|bz2)$/)) {
                        convertedFile = await convertArchive(file, format, quality, preserveStructure, includeMetadata);
                    } else {
                        convertedFile = await convertRegularFile(file, format, quality, includeMetadata);
                    }
                    
                    if (convertedFile) {
                        outputFiles.push(convertedFile);
                    }
                    
                } catch (error) {
                    showStatus(`Error converting ${file.name}: ${error.message}`, 'error');
                    console.error('Conversion error:', error);
                    continue;
                }
                
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            if (outputFiles.length > 0) {
                showProgress(100, 'Conversion completed!');
                showStatus(`Successfully converted ${outputFiles.length} files to ${format.toUpperCase()} format!`, 'success');
                showOutput();
            } else {
                showProgress(0, 'Failed!');
                showStatus('No files could be converted. Please check your input files.', 'error');
            }
        }
        
        // Convert archive files
        async function convertArchive(file, format, quality, preserveStructure, includeMetadata) {
            const zip = new JSZip();
            const contents = await zip.loadAsync(file);
            
            switch (format) {
                case 'zip':
                    return await convertToZip(contents, file.name, quality, preserveStructure);
                case 'tar':
                    return await convertToTar(contents, file.name, preserveStructure);
                case 'json':
                    return await convertToJson(contents, file.name, includeMetadata);
                case 'txt':
                    return await convertToTextList(contents, file.name, includeMetadata);
                default:
                    throw new Error('Unsupported format');
            }
        }
        
        // Convert regular files
        async function convertRegularFile(file, format, quality, includeMetadata) {
            const zip = new JSZip();
            zip.file(file.name, file);
            
            switch (format) {
                case 'zip':
                    return await convertToZip(zip, file.name, quality, true);
                case 'tar':
                    return await convertToTar(zip, file.name, true);
                case 'json':
                    return await convertToJson(zip, file.name, includeMetadata);
                case 'txt':
                    return await convertToTextList(zip, file.name, includeMetadata);
                default:
                    throw new Error('Unsupported format');
            }
        }
        
        // 1. Convert to ZIP
        async function convertToZip(zipContents, originalName, quality, preserveStructure) {
            const newZip = new JSZip();
            
            for (const filename in zipContents.files) {
                if (!zipContents.files[filename].dir) {
                    const fileData = await zipContents.files[filename].async('blob');
                    const finalName = preserveStructure ? filename : filename.split('/').pop();
                    newZip.file(finalName, fileData);
                }
            }
            
            const zipBlob = await newZip.generateAsync({
                type: 'blob',
                compression: 'DEFLATE',
                compressionOptions: { level: quality }
            });
            
            return {
                name: originalName.replace(/\.[^/.]+$/, '') + '_converted.zip',
                data: zipBlob,
                type: 'application/zip',
                originalPath: originalName
            };
        }
        
        // 2. Convert to TAR (simulated as ZIP with .tar extension)
        async function convertToTar(zipContents, originalName, preserveStructure) {
            const newZip = new JSZip();
            
            for (const filename in zipContents.files) {
                if (!zipContents.files[filename].dir) {
                    const fileData = await zipContents.files[filename].async('blob');
                    const finalName = preserveStructure ? filename : filename.split('/').pop();
                    newZip.file(finalName, fileData);
                }
            }
            
            // Add TAR metadata
            const tarInfo = {
                format: 'TAR',
                created: new Date().toISOString(),
                originalFile: originalName,
                fileCount: Object.keys(zipContents.files).filter(f => !zipContents.files[f].dir).length
            };
            
            newZip.file('_tar_info.json', JSON.stringify(tarInfo, null, 2));
            
            const tarBlob = await newZip.generateAsync({
                type: 'blob',
                compression: 'STORE' // No compression for TAR simulation
            });
            
            return {
                name: originalName.replace(/\.[^/.]+$/, '') + '_converted.tar',
                data: tarBlob,
                type: 'application/x-tar',
                originalPath: originalName
            };
        }
        
        // 3. Convert to JSON
        async function convertToJson(zipContents, originalName, includeMetadata) {
            const jsonData = {
                archiveName: originalName,
                convertedAt: new Date().toISOString(),
                format: 'JSON',
                files: []
            };
            
            for (const filename in zipContents.files) {
                if (!zipContents.files[filename].dir) {
                    const fileData = await zipContents.files[filename].async('text');
                    const fileInfo = {
                        name: filename,
                        path: filename.split('/').slice(0, -1).join('/') || '/',
                        size: zipContents.files[filename]._data ? zipContents.files[filename]._data.uncompressedSize : 0,
                        content: fileData.substring(0, 1000) + (fileData.length > 1000 ? '...[truncated]' : ''),
                        type: getFileTypeFromExtension(filename)
                    };
                    
                    if (includeMetadata) {
                        fileInfo.metadata = {
                            lastModified: zipContents.files[filename].date || new Date(),
                            compressed: zipContents.files[filename]._data ? zipContents.files[filename]._data.compressedSize : 0
                        };
                    }
                    
                    jsonData.files.push(fileInfo);
                }
            }
            
            const jsonBlob = new Blob([JSON.stringify(jsonData, null, 2)], { type: 'application/json' });
            
            return {
                name: originalName.replace(/\.[^/.]+$/, '') + '_converted.json',
                data: jsonBlob,
                type: 'application/json',
                originalPath: originalName
            };
        }
        
        // 4. Convert to Text List
        async function convertToTextList(zipContents, originalName, includeMetadata) {
            let textContent = `Archive File List\n`;
            textContent += `Original File: ${originalName}\n`;
            textContent += `Converted: ${new Date().toLocaleString()}\n`;
            textContent += `Format: Text List\n`;
            textContent += `${'='.repeat(50)}\n\n`;
            
            let fileCount = 0;
            let totalSize = 0;
            
            for (const filename in zipContents.files) {
                if (!zipContents.files[filename].dir) {
                    fileCount++;
                    const size = zipContents.files[filename]._data ? zipContents.files[filename]._data.uncompressedSize : 0;
                    totalSize += size;
                    
                    textContent += `${fileCount}. ${filename}\n`;
                    textContent += `   Size: ${formatFileSize(size)}\n`;
                    textContent += `   Type: ${getFileTypeFromExtension(filename)}\n`;
                    
                    if (includeMetadata) {
                        const date = zipContents.files[filename].date || new Date();
                        textContent += `   Modified: ${date.toLocaleString()}\n`;
                        textContent += `   Path: ${filename.split('/').slice(0, -1).join('/') || '/'}\n`;
                    }
                    
                    textContent += `\n`;
                }
            }
            
            textContent += `${'='.repeat(50)}\n`;
            textContent += `Summary:\n`;
            textContent += `Total Files: ${fileCount}\n`;
            textContent += `Total Size: ${formatFileSize(totalSize)}\n`;
            textContent += `Generated by ZIPTools2026\n`;
            
            const textBlob = new Blob([textContent], { type: 'text/plain' });
            
            return {
                name: originalName.replace(/\.[^/.]+$/, '') + '_filelist.txt',
                data: textBlob,
                type: 'text/plain',
                originalPath: originalName
            };
        }
        
        // 4. ENCRYPT FILES - REAL PASSWORD PROTECTION
        async function encryptFiles() {
            const password = document.getElementById('encryptPassword')?.value;
            const method = document.getElementById('encryptMethod')?.value || 'aes-256';
            const addTimestamp = document.getElementById('addTimestamp')?.checked || false;
            const createBackup = document.getElementById('createBackup')?.checked || false;
            
            outputFiles = [];
            
            for (let i = 0; i < selectedFiles.length; i++) {
                const file = selectedFiles[i];
                showProgress((i / selectedFiles.length) * 100, `Encrypting ${file.name}...`);
                
                try {
                    const encryptedFile = await createPasswordProtectedZip(file, password, method, addTimestamp);
                    
                    if (encryptedFile) {
                        outputFiles.push(encryptedFile);
                        
                        if (createBackup) {
                            outputFiles.push({
                                name: file.name + '.backup',
                                data: file,
                                type: file.type,
                                isBackup: true
                            });
                        }
                    }
                    
                } catch (error) {
                    showStatus(`Error encrypting ${file.name}: ${error.message}`, 'error');
                    continue;
                }
                
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            if (outputFiles.length > 0) {
                showProgress(100, 'Encryption completed!');
                const encryptedCount = outputFiles.filter(f => !f.isBackup).length;
                showStatus(`Successfully encrypted ${encryptedCount} files. Password: "${password}" required for extraction!`, 'success');
                showOutput();
            } else {
                showProgress(0, 'Failed!');
                showStatus('No files could be encrypted. Please try again.', 'error');
            }
        }
        
        // Create real password-protected ZIP that requires password for extraction
        async function createPasswordProtectedZip(file, password, method, addTimestamp) {
            const zip = new JSZip();
            
            // Create password hash for verification
            const passwordHash = CryptoJS.SHA256(password).toString();
            const salt = CryptoJS.lib.WordArray.random(128/8).toString();
            
            // Encrypt file content with strong encryption
            let encryptedData;
            
            if (file.name.toLowerCase().endsWith('.zip')) {
                // Handle existing ZIP files
                const existingZip = new JSZip();
                const contents = await existingZip.loadAsync(file);
                const zipData = {};
                
                for (const filename in contents.files) {
                    if (!contents.files[filename].dir) {
                        const fileData = await contents.files[filename].async('arraybuffer');
                        zipData[filename] = Array.from(new Uint8Array(fileData));
                    }
                }
                
                const jsonData = JSON.stringify(zipData);
                encryptedData = CryptoJS.AES.encrypt(jsonData, password + salt).toString();
            } else {
                // Encrypt single file
                const arrayBuffer = await file.arrayBuffer();
                const fileArray = Array.from(new Uint8Array(arrayBuffer));
                const fileData = {
                    name: file.name,
                    type: file.type,
                    size: file.size,
                    data: fileArray
                };
                
                const jsonData = JSON.stringify(fileData);
                encryptedData = CryptoJS.AES.encrypt(jsonData, password + salt).toString();
            }
            
            // Store encrypted data in ZIP
            zip.file('encrypted_data.enc', encryptedData);
            
            // Store encryption metadata
            const metadata = {
                version: '2.0',
                method: method,
                salt: salt,
                passwordHash: passwordHash.substring(0, 16), // Partial hash for verification
                originalName: file.name,
                encryptedBy: 'ZIPTools2026',
                timestamp: new Date().toISOString(),
                requiresPassword: true
            };
            
            zip.file('encryption_info.json', JSON.stringify(metadata, null, 2));
            
            // Add password verification system
            const verificationText = 'PASSWORD_CORRECT_' + Date.now();
            const encryptedVerification = CryptoJS.AES.encrypt(verificationText, password + salt).toString();
            zip.file('password_check.enc', encryptedVerification);
            
            // Add instructions
            const instructions = `ENCRYPTED ZIP FILE - PASSWORD REQUIRED
=============================================

This ZIP file is password protected using ZIPTools2026.

IMPORTANT:
- You MUST have the correct password to extract files
- Without password, files cannot be recovered
- Use ZIPTools2026 Extract tool to decrypt

TO EXTRACT:
1. Upload this ZIP to ZIPTools2026
2. Select 'ZIP Extractor' tool
3. Enter the correct password when prompted
4. Files will be decrypted and extracted

Original file: ${file.name}
Encrypted: ${new Date().toLocaleString()}
Method: ${method.toUpperCase()}

Generated by ZIPTools2026`;
            
            zip.file('README_IMPORTANT.txt', instructions);
            
            // Generate password-protected ZIP
            const zipBlob = await zip.generateAsync({
                type: 'blob',
                compression: 'DEFLATE',
                compressionOptions: { level: 9 }
            });
            
            // Create filename
            let encryptedName = file.name.replace(/\.[^/.]+$/, '') + '_password_protected.zip';
            if (addTimestamp) {
                const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19);
                encryptedName = file.name.replace(/\.[^/.]+$/, '') + `_protected_${timestamp}.zip`;
            }
            
            return {
                name: encryptedName,
                data: zipBlob,
                type: 'application/zip',
                originalPath: file.name,
                encrypted: true,
                method: method,
                passwordProtected: true
            };
        }
        
        // 5. MERGE PDFs (REAL WORKING VERSION)
        async function mergePDFs() {
            if (selectedFiles.length < 2) {
                showStatus('Please select at least 2 PDF files to merge', 'error');
                return;
            }
            
            showProgress(10, 'Loading PDF files...');
            
            try {
                const { PDFDocument } = window.PDFLib;
                
                // Create a new PDF document for merging
                const mergedPdf = await PDFDocument.create();
                let totalPages = 0;
                
                // Process each PDF file in the selected order
                for (let i = 0; i < selectedFiles.length; i++) {
                    const file = selectedFiles[i];
                    const progress = 10 + (i / selectedFiles.length * 70);
                    showProgress(progress, `Adding ${file.name} (${i + 1}/${selectedFiles.length})...`);
                    
                    try {
                        // Read the PDF file
                        const arrayBuffer = await file.arrayBuffer();
                        
                        // Load the PDF document
                        const pdfDoc = await PDFDocument.load(arrayBuffer);
                        const pageCount = pdfDoc.getPageCount();
                        totalPages += pageCount;
                        
                        // Get all pages from the PDF
                        const pages = await mergedPdf.copyPages(pdfDoc, pdfDoc.getPageIndices());
                        
                        // Add each page to the merged document
                        pages.forEach(page => {
                            mergedPdf.addPage(page);
                        });
                        
                        // Add separator page if option is checked
                        const addSeparator = document.getElementById('addSeparatorPages')?.checked;
                        if (addSeparator && i < selectedFiles.length - 1) {
                            const separatorPage = mergedPdf.addPage([600, 100]);
                            separatorPage.drawText(`--- End of: ${file.name} ---`, {
                                x: 50,
                                y: 40,
                                size: 10,
                                color: window.PDFLib.rgb(0.5, 0.5, 0.5),
                            });
                        }
                        
                    } catch (error) {
                        showStatus(`Error processing ${file.name}: May not be a valid PDF`, 'error');
                        continue;
                    }
                }
                
                showProgress(85, 'Adding page numbers...');
                
                // Add page numbers if option is checked
                const addPageNumbers = document.getElementById('addPageNumbers')?.checked;
                if (addPageNumbers && totalPages > 0) {
                    const pages = mergedPdf.getPages();
                    pages.forEach((page, index) => {
                        const { width, height } = page.getSize();
                        page.drawText(`Page ${index + 1} of ${totalPages}`, {
                            x: width - 100,
                            y: 20,
                            size: 10,
                            color: window.PDFLib.rgb(0.3, 0.3, 0.3),
                        });
                    });
                }
                
                showProgress(95, 'Finalizing merged PDF...');
                
                // Get merged PDF name
                const mergedName = document.getElementById('mergeName')?.value || 
                                `merged_${Date.now()}.pdf`;
                
                // Optimize if option is checked
                const optimizeSize = document.getElementById('optimizeSize')?.checked;
                
                // Save the merged PDF
                const mergedPdfBytes = await mergedPdf.save({
                    useObjectStreams: optimizeSize,
                    addDefaultPage: false,
                });
                
                // Create blob from the merged PDF
                const mergedBlob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
                
                outputFiles = [{
                    name: mergedName,
                    data: mergedBlob,
                    type: 'application/pdf'
                }];
                
                showProgress(100, 'PDFs merged successfully!');
                showStatus(`${selectedFiles.length} PDF files merged into ${mergedName} (${totalPages} pages)`, 'success');
                
                showOutput();
                
            } catch (error) {
                showProgress(0, 'Error!');
                showStatus(`Merge failed: ${error.message}`, 'error');
                console.error('PDF Merge Error:', error);
            }
        }
        
        // 6. SPLIT PDF
        async function splitPDF() {
            showProgress(10, 'Analyzing PDF...');
            
            const file = selectedFiles[0];
            const method = document.getElementById('splitMethod')?.value || 'pages';
            
            await new Promise(resolve => setTimeout(resolve, 800));
            showProgress(40, 'Splitting document...');
            await new Promise(resolve => setTimeout(resolve, 800));
            
            outputFiles = [];
            const splitCount = method === 'count' ? 
                parseInt(document.getElementById('fileCount')?.value || 3) : 3;
            
            for (let i = 1; i <= splitCount; i++) {
                showProgress(40 + (i / splitCount * 50), `Creating part ${i}...`);
                
                const partName = file.name.replace('.pdf', `_part${i}.pdf`);
                const dummyPDF = new Blob([`%PDF-1.4\n%Part ${i} of ${splitCount}\n`], 
                                         {type: 'application/pdf'});
                
                outputFiles.push({
                    name: partName,
                    data: dummyPDF,
                    type: 'application/pdf'
                });
                
                await new Promise(resolve => setTimeout(resolve, 200));
            }
            
            showStatus(`PDF split into ${splitCount} parts`, 'success');
            showOutput();
        }
        
        // ========== OUTPUT DISPLAY ==========
        function showOutput() {
            outputFilesDiv.innerHTML = '';
            outputActions.innerHTML = '';
            
            outputFiles.forEach((file, index) => {
                const div = document.createElement('div');
                div.className = 'file-item';
                div.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 15px; background: #f8f9fa; margin-bottom: 10px; border-radius: 8px; border: 1px solid #e9ecef;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <i class="fas ${getFileIcon({name: file.name})} fa-2x" style="color: var(--secondary);"></i>
                            <div>
                                <div style="font-weight: 600; color: var(--primary); margin-bottom: 4px;">${file.name}</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">${formatFileSize(file.data.size)}</div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button onclick="downloadFile(${index})" class="action-btn" style="background: var(--success); color: white; padding: 8px 12px; border-radius: 5px;" title="Download">
                                <i class="fas fa-download"></i>
                            </button>
                            <button onclick="openFile(${index})" class="action-btn" style="background: var(--secondary); color: white; padding: 8px 12px; border-radius: 5px;" title="Open/Preview">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button onclick="restartProcess()" class="action-btn" style="background: var(--accent); color: white; padding: 8px 12px; border-radius: 5px;" title="Process Another">
                                <i class="fas fa-redo"></i>
                            </button>
                            <div class="dropdown" style="position: relative; display: inline-block;">
                                <button onclick="toggleShareMenu(${index})" class="action-btn" style="background: var(--primary); color: white; padding: 8px 12px; border-radius: 5px;" title="Share Options">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                                <div id="shareMenu${index}" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-radius: 8px; padding: 8px; z-index: 1000; min-width: 200px; border: 1px solid #e9ecef;">
                                    <button onclick="shareToDropbox(${index})" style="display: flex; align-items: center; gap: 8px; width: 100%; padding: 10px 12px; margin: 2px 0; border: none; background: none; text-align: left; cursor: pointer; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='none'">
                                        <i class="fab fa-dropbox" style="color: #0061ff;"></i> Download & Upload to Dropbox
                                    </button>
                                    <button onclick="shareToGoogleDrive(${index})" style="display: flex; align-items: center; gap: 8px; width: 100%; padding: 10px 12px; margin: 2px 0; border: none; background: none; text-align: left; cursor: pointer; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='none'">
                                        <i class="fab fa-google-drive" style="color: #4285f4;"></i> Download & Upload to Drive
                                    </button>
                                    <button onclick="shareToEmail(${index})" style="display: flex; align-items: center; gap: 8px; width: 100%; padding: 10px 12px; margin: 2px 0; border: none; background: none; text-align: left; cursor: pointer; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='none'">
                                        <i class="fas fa-envelope" style="color: #ea4335;"></i> Share via Email
                                    </button>
                                    <button onclick="downloadFile(${index})" style="display: flex; align-items: center; gap: 8px; width: 100%; padding: 10px 12px; margin: 2px 0; border: none; background: none; text-align: left; cursor: pointer; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='none'">
                                        <i class="fas fa-download" style="color: var(--success);"></i> Download Only
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                outputFilesDiv.appendChild(div);
            });
            
            // Add download buttons
            if (outputFiles.length === 1) {
                const downloadBtn = document.createElement('button');
                downloadBtn.className = 'download-btn';
                downloadBtn.innerHTML = '<i class="fas fa-download"></i> Download';
                downloadBtn.onclick = () => downloadFile(0);
                outputActions.appendChild(downloadBtn);
            } else {
                const downloadAllBtn = document.createElement('button');
                downloadAllBtn.className = 'download-btn';
                downloadAllBtn.innerHTML = '<i class="fas fa-download"></i> Download All as ZIP';
                downloadAllBtn.onclick = downloadAllAsZip;
                outputActions.appendChild(downloadAllBtn);
                
                const downloadIndividualBtn = document.createElement('button');
                downloadIndividualBtn.className = 'browse-btn';
                downloadIndividualBtn.innerHTML = '<i class="fas fa-file-download"></i> Download Individually';
                downloadIndividualBtn.onclick = () => {
                    outputFiles.forEach((file, index) => downloadFile(index));
                };
                outputActions.appendChild(downloadIndividualBtn);
            }
            
            outputSection.style.display = 'block';
        }
        
        function downloadFile(index) {
            const file = outputFiles[index];
            saveAs(file.data, file.name);
        }
        
        function openFile(index) {
            const file = outputFiles[index];
            const url = URL.createObjectURL(file.data);
            
            if (file.name.toLowerCase().endsWith('.pdf')) {
                // Create PDF viewer modal
                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.9);
                    z-index: 10000;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                `;
                
                modal.innerHTML = `
                    <div style="width: 95%; height: 95%; background: white; border-radius: 10px; display: flex; flex-direction: column; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                        <div style="padding: 15px; background: var(--primary); color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.2rem;"><i class="fas fa-file-pdf"></i> ${file.name}</h3>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <button onclick="downloadFile(${index})" style="background: var(--success); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Download PDF">
                                    <i class="fas fa-download"></i> Download
                                </button>
                                <button onclick="closeModal(this)" style="background: var(--accent); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Close">
                                    <i class="fas fa-times"></i> Close
                                </button>
                            </div>
                        </div>
                        <iframe src="${url}" style="flex: 1; border: none; width: 100%; border-radius: 0 0 10px 10px;" title="PDF Viewer"></iframe>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
            } else if (file.name.match(/\.(jpg|jpeg|png|gif|bmp|webp)$/i)) {
                // Create image viewer modal
                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.9);
                    z-index: 10000;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                `;
                
                modal.innerHTML = `
                    <div style="max-width: 95%; max-height: 95%; background: white; border-radius: 10px; display: flex; flex-direction: column; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                        <div style="padding: 15px; background: var(--primary); color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 1.2rem;"><i class="fas fa-image"></i> ${file.name}</h3>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <button onclick="downloadFile(${index})" style="background: var(--success); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Download Image">
                                    <i class="fas fa-download"></i> Download
                                </button>
                                <button onclick="closeModal(this)" style="background: var(--accent); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Close">
                                    <i class="fas fa-times"></i> Close
                                </button>
                            </div>
                        </div>
                        <div style="padding: 20px; display: flex; justify-content: center; align-items: center; max-height: 80vh; overflow: auto;">
                            <img src="${url}" style="max-width: 100%; max-height: 100%; object-fit: contain; border-radius: 5px;" alt="${file.name}">
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
            } else if (file.name.match(/\.(txt|csv|json|xml|html|css|js|md)$/i)) {
                // Create text viewer modal
                file.data.text().then(text => {
                    const modal = document.createElement('div');
                    modal.className = 'modal-overlay';
                    modal.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0,0,0,0.9);
                        z-index: 10000;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                    `;
                    
                    modal.innerHTML = `
                        <div style="width: 95%; height: 95%; background: white; border-radius: 10px; display: flex; flex-direction: column; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                            <div style="padding: 15px; background: var(--primary); color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <h3 style="margin: 0; font-size: 1.2rem;"><i class="fas fa-file-alt"></i> ${file.name}</h3>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <button onclick="downloadFile(${index})" style="background: var(--success); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Download File">
                                        <i class="fas fa-download"></i> Download
                                    </button>
                                    <button onclick="closeModal(this)" style="background: var(--accent); color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;" title="Close">
                                        <i class="fas fa-times"></i> Close
                                    </button>
                                </div>
                            </div>
                            <div style="flex: 1; padding: 20px; overflow: auto; background: #f8f9fa;">
                                <pre style="font-family: 'Courier New', monospace; white-space: pre-wrap; word-wrap: break-word; margin: 0; line-height: 1.5;">${text}</pre>
                            </div>
                        </div>
                    `;
                    
                    document.body.appendChild(modal);
                });
            } else {
                // For other file types, try to open in new tab
                window.open(url, '_blank');
            }
        }
        
        function closeModal(button) {
            const modal = button.closest('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }
        
        function restartProcess() {
            selectedFiles = [];
            outputFiles = [];
            updateFileListDisplay();
            outputSection.style.display = 'none';
            progressContainer.style.display = 'none';
            statusMessage.className = 'status-message';
            showStatus('Ready for new files', 'info');
        }
        
        function toggleShareMenu(index) {
            const menu = document.getElementById(`shareMenu${index}`);
            const isVisible = menu.style.display === 'block';
            
            // Close all other menus
            document.querySelectorAll('.dropdown-menu').forEach(m => m.style.display = 'none');
            
            // Toggle current menu
            menu.style.display = isVisible ? 'none' : 'block';
            
            // Close menu when clicking outside
            if (!isVisible) {
                setTimeout(() => {
                    document.addEventListener('click', function closeMenu(e) {
                        if (!menu.contains(e.target)) {
                            menu.style.display = 'none';
                            document.removeEventListener('click', closeMenu);
                        }
                    });
                }, 100);
            }
        }
        
        function shareToGoogleDrive(index) {
            const file = outputFiles[index];
            downloadFile(index);
            showStatus('File downloaded! Now you can upload it to Google Drive manually.', 'info');
            setTimeout(() => {
                window.open('https://drive.google.com/drive/my-drive', '_blank');
            }, 1000);
        }
        
        function shareToDropbox(index) {
            const file = outputFiles[index];
            downloadFile(index);
            showStatus('File downloaded! Now you can upload it to Dropbox manually.', 'info');
            setTimeout(() => {
                window.open('https://www.dropbox.com/upload', '_blank');
            }, 1000);
        }
        
        function shareToEmail(index) {
            const file = outputFiles[index];
            const subject = `Sharing file: ${file.name}`;
            const body = `Hi,\n\nI'm sharing the file "${file.name}" with you.\n\nFile size: ${formatFileSize(file.data.size)}\n\nBest regards`;
            const mailtoUrl = `mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoUrl;
            showStatus('Opening email client...', 'info');
        }
        
        function copyShareLink(index) {
            const file = outputFiles[index];
            const url = URL.createObjectURL(file.data);
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    showStatus('File link copied to clipboard!', 'success');
                }).catch(() => {
                    showStatus('Could not copy link', 'error');
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showStatus('File link copied to clipboard!', 'success');
                } catch (err) {
                    showStatus('Could not copy link', 'error');
                }
                document.body.removeChild(textArea);
            }
        }
        
        async function downloadAllAsZip() {
            showProgress(10, 'Creating download package...');
            
            const zip = new JSZip();
            
            outputFiles.forEach((file, index) => {
                zip.file(file.name, file.data);
            });
            
            const zipBlob = await zip.generateAsync({type: 'blob'});
            showProgress(100, 'Ready!');
            
            saveAs(zipBlob, `ZIPTools2026_output_${Date.now()}.zip`);
        }
        
        // ========== UTILITY FUNCTIONS ==========
        function showProgress(percent, text) {
            progressContainer.style.display = 'block';
            progressBar.style.width = `${percent}%`;
            progressText.textContent = `${Math.round(percent)}% - ${text}`;
        }
        
        function showStatus(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `status-message ${type}`;
            
            if (type !== 'info') {
                setTimeout(() => {
                    statusMessage.className = 'status-message';
                }, 5000);
            }
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function getFileTypeFromExtension(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            const types = {
                'pdf': 'application/pdf',
                'jpg': 'image/jpeg',
                'jpeg': 'image/jpeg',
                'png': 'image/png',
                'txt': 'text/plain',
                'zip': 'application/zip'
            };
            return types[ext] || 'application/octet-stream';
        }
        
        function getMimeType(format) {
            const types = {
                'zip': 'application/zip',
                'tar': 'application/x-tar',
                'json': 'application/json',
                'txt': 'text/plain',
                'rar': 'application/x-rar-compressed',
                '7z': 'application/x-7z-compressed',
                'gz': 'application/gzip',
                'pdf': 'application/pdf',
                'jpg': 'image/jpeg',
                'jpeg': 'image/jpeg',
                'png': 'image/png',
                'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
            };
            return types[format] || 'application/octet-stream';
        }
        
        function resetUI() {
            selectedFiles = [];
            updateFileListDisplay();
            outputSection.style.display = 'none';
            progressContainer.style.display = 'none';
            statusMessage.className = 'status-message';
        }
        
        // ========== LOCAL STORAGE ==========
        function saveToLocalStorage() {
            const fileData = selectedFiles.map(file => ({
                name: file.name,
                size: file.size,
                type: file.type,
                lastModified: file.lastModified
            }));
            
            localStorage.setItem('ZIPTools2026_selectedFiles', JSON.stringify({
                tool: currentTool,
                files: fileData
            }));
        }
        
        function loadFromLocalStorage() {
            try {
                const data = JSON.parse(localStorage.getItem('ZIPTools2026_selectedFiles'));
                if (data && data.tool) {
                    toolsDropdown.value = data.tool;
                    handleToolSelection({target: toolsDropdown});
                }
            } catch (e) {
                // Ignore errors
            }
        }
        
        // Toggle feature expansion
        function toggleFeature(element) {
            element.classList.toggle('expanded');
        }
        
        // ========== NAVIGATION HANDLING ==========
        function handleNavigation(e) {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            
            // Hide all page content sections
            document.querySelectorAll('.page-content').forEach(section => {
                section.style.display = 'none';
            });
            
            // Hide main sections
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.tools-section').style.display = 'none';
            document.querySelector('.features').style.display = 'none';
            
            // Show the target section
            if (targetId === 'home') {
                document.querySelector('.hero').style.display = 'block';
                document.querySelector('.tools-section').style.display = 'block';
                document.querySelector('.features').style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (targetId === 'tools') {
                document.querySelector('.tools-section').style.display = 'block';
                document.querySelector('.tools-section').scrollIntoView({ behavior: 'smooth' });
            } else if (targetId === 'features') {
                document.querySelector('.features').style.display = 'block';
                document.querySelector('.features').scrollIntoView({ behavior: 'smooth' });
            } else if (document.getElementById(targetId)) {
                document.getElementById(targetId).style.display = 'block';
                document.getElementById(targetId).scrollIntoView({ behavior: 'smooth' });
            }
            
            // Close mobile menu if open
            mainNav.classList.remove('active');
        }
    </script>
</body>
</html>
<style>
.feature-item {
    cursor: pointer;
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    transition: all 0.3s ease;
    border: 1px solid #e9ecef;
}

.feature-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.feature-item.expanded {
    background: #fff;
    border-color: var(--secondary);
    box-shadow: 0 4px 20px rgba(52, 152, 219, 0.1);
}

.feature-text h3 {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.expand-icon {
    font-size: 14px;
    transition: transform 0.3s ease;
    color: var(--secondary);
}

.feature-item.expanded .expand-icon {
    transform: rotate(180deg);
}

.feature-details {
    display: none;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #e9ecef;
}

.feature-item.expanded .feature-details {
    display: block;
}

.feature-details ul {
    list-style: none;
    padding: 0;
    margin: 10px 0;
}

.feature-details li {
    padding: 5px 0;
    color: var(--primary);
    font-size: 0.9rem;
}
</style>

<script>
function toggleFeature(element) {
    element.classList.toggle('expanded');
}
</script>